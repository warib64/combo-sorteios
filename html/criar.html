<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@200;500;600;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="../imagens/favicon.svg">
    <title>Combo Sorteios</title>
    <link rel="stylesheet" href="../css/criarstyle.css">
</head>

<body>
    <h1>Criar Sorteio</h1>
    <div id="info">
        <div id="msg"></div>
		<form id="formcriar" action="../php/criarquery.php" method="post">
        <section>
            <div class="atributo">
                <label class="mainlabel required" for="nome">Nome:</label>
                <input type="text" name="nome" id="nome" class="texto" autocomplete="off" required>
           </div>
			<div class="atributo">
                <label class="mainlabel required" for="data">Data:</label>
                <input type="date" name="data" id="data" class="outro" autocomplete="off" required>
			</div>
            <div class="atributo">
                <label class="mainlabel required espaco" for="digital">Formato:</label>
                <div id="divradio">
					<div id="divdigital">
						<input type="radio" id="digital" name="formato" value="Digital" class="check" required>
						<label for="digital" class="labelradio">Digital</label>
					</div>
					<div id="divpresencial">
						<input type="radio" id="presencial" name="formato" value="Presencial" class="check">
						<label for="presencial" class="labelradio">Presencial</label>
					</div>
				</div>
           </div>
			<div class="atributo">
                <label class="mainlabel" for="maximo">Participantes Máximos:</label>
                <input type="number" name="maximo" id="maximo" min="2" max="4294967294" pattern="^\d{1,10}$" class="outro" autocomplete="off">
			</div>
			<div class="atributo">
                <label class="mainlabel" for="contato">Contato:</label>
                <input type="text" name="contato" id="contato" class="texto" autocomplete="off">
			</div>
            <div>
                <label class="mainlabel espaco" for="maioridade">Apenas para maiores de idade?</label>
                <input type="checkbox" id="maioridade" name="maioridade" class="check">
           </div>
       </section>
		<div>
        <input class="button" type="submit" id="criar" value="Criar Sorteio">
		</div>
		</form>
   </div>
    <a href="hub.html" class="button" id="voltar">Voltar à página anterior</a>
    <footer>
        <p><i>Combo</i> Sorteios</p>
   </footer>
<script>
	function exibirMsg(mensagem) {
        let erroElemento = document.getElementById('msg');
        erroElemento.innerHTML = `<p id="mensagem">${mensagem}</p>`;
    };
	
	const checagem = new URLSearchParams(window.location.search);
	let tipo = checagem.get("error");
	if (tipo != null) {
		switch (tipo) {
			case 'name':
				exibirMsg("Nome excede o limite de caracteres.");
				break;			
			case 'contact':
				exibirMsg("Contato excede o limite de caracteres.");
				break;
			case 'date':
				exibirMsg("A data escolhida já passou.");
				break;
			case 'function':
				exibirMsg("Houve um erro na criação do sorteio.");
				break;
		}
	}
</script>
</body>

</html>
